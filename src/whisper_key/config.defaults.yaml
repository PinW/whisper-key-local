# =============================================================================
# WHISPER KEY - DEFAULT CONFIGURATION
# =============================================================================
# DO NOT EDIT THIS FILE
# This is the default configuration template for Whisper Key
# 
# Personal settings are stored at:
# %APPDATA%\Roaming\whisperkey\user_settings.yaml

# =============================================================================
# WHISPER AI MODEL SETTINGS
# =============================================================================
whisper:
  # Model size - affects accuracy vs speed tradeoff
  # Options: "tiny", "base", "small", "medium", "large", "large-v3-turbo", "tiny.en", "base.en", "small.en", "medium.en", "distil-large-v3.5"
  # Multilingual models:
  # - tiny: ~76MB, fastest, good for most use cases
  # - base: ~145MB, better accuracy, still fast
  # - small: ~484MB, high accuracy, slower
  # - medium: ~1.5GB, very high accuracy, much slower
  # - large: ~3.1GB, best accuracy, very slow (not recommended for real-time)
  # - large-v3-turbo: ~1.6GB, optimized for transcription, similar accuracy
  # English-only models (same size, more accurate for English):
  # - tiny.en: ~76MB
  # - base.en: ~145MB
  # - small.en: ~484MB
  # - medium.en: ~1.5GB
  # Distilled models (optimized for speed, English-focused):
  # - distil-large-v3.5: ~1.5GB, fastest large-class model
  model_size: base
  
  # Processing device - where the AI runs
  # Options: "cpu", "cuda" (for NVIDIA GPUs)
  # Note: "cuda" requires compatible GPU and drivers
  device: cpu
  
  # Compute precision - affects speed vs accuracy
  # Options: "int8", "float16", "float32"
  # - int8: fastest, good quality (recommended)
  # - float16: balanced (requires GPU for best performance)
  # - float32: highest quality, slowest
  compute_type: int8
  
  # Language detection
  # Options: auto (auto-detect), en, es, fr, de, etc.
  # Set to specific language code to force language, or auto for auto-detection
  language: auto
  
  # Transcription quality settings
  beam_size: 5  # Higher = more accurate but slower (1-10)

  # Model cache folder overrides (for non-Systran models)
  # Maps model short names to their HuggingFace cache folder names
  model_cache_overrides:
    large: models--Systran--faster-whisper-large-v3
    large-v3-turbo: models--mobiuslabsgmbh--faster-whisper-large-v3-turbo
    distil-large-v3.5: models--distil-whisper--distil-large-v3.5-ct2

# =============================================================================
# HOTKEY CONFIGURATION
# =============================================================================
hotkey:
  # Key combination to start/stop recording
  # Format: modifier+modifier+key (use lowercase)
  # Common modifiers: ctrl, shift, alt, win
  # Examples:
  #   - "ctrl+shift+space"     (default)
  #   - "ctrl+alt+r"
  #   - "win+shift+v"
  #   - "ctrl+shift+f12"
  recording_hotkey: ctrl+win
  
  # Stop recording with just the first modifier key
  # If enabled, stops recording with first modifier of the main hotkey
  # (e.g., if combination is 'ctrl+win', pressing 'ctrl' will stop)
  # (e.g., if combination is 'ctrl+shift+t', pressing 'ctrl' will stop)
  stop_with_modifier_enabled: true

  # Auto-ENTER functionality
  # If enabled, allows alternative stop key that sends ENTER key press
  # Only works when auto-paste is also enabled
  auto_enter_enabled: true

  # Key combination for auto-ENTER function
  auto_enter_combination: alt
  
  # Key combination to cancel recording
  # Format: modifier+modifier+key (use lowercase) or single key
  # Examples: "esc", "ctrl+c", "shift+esc" 
  cancel_combination: esc

# =============================================================================
# VOICE ACTIVITY DETECTION (VAD) SETTINGS
# =============================================================================
vad:
  # Voice Activity Detection (VAD) Pre-check
  # Uses TEN VAD to detect speech before transcription (prevents hallucinations on silence)
  # NOTE: This is separate from faster-whisper's built-in VAD
  vad_precheck_enabled: true

  # TEN VAD Hysteresis Thresholds (prevent flickering on borderline audio)
  vad_onset_threshold: 0.7    # Probability to START detecting speech (0.0-1.0)
  vad_offset_threshold: 0.55  # Probability to STOP detecting speech (0.0-1.0)

  # Minimum Duration Filtering
  vad_min_speech_duration: 0.1  # Minimum speech segment length in seconds (filters brief noise)

  # Real-time VAD monitoring during recording
  vad_realtime_enabled: true  # Enables continuous silence detection and automatic recording stop
  vad_silence_timeout_seconds: 30.0  # Auto-stop recording after this many seconds of silence

# =============================================================================
# AUDIO RECORDING SETTINGS
# =============================================================================
audio:
  # Sample rate is fixed at 16000 Hz for optimal Whisper and TEN VAD performance

  # Audio host API selection
  # null = let Whisper Key choose the best option (WASAPI on Windows, first available elsewhere)
  # e.g., "WASAPI", "MME", "DirectSound", "Core Audio"
  host: null

  # Audio channels
  # 1 = mono (recommended for speech)
  # 2 = stereo
  channels: 1

  # Recording format
  # Options: "float32", "int16", "int24", "int32"
  # float32 recommended for best quality
  dtype: float32

  # Maximum recording duration (seconds)
  # Set to 0 for unlimited recording
  max_duration: 900

  # Audio input device selection
  # "default" = Use system default microphone (default behavior)
  # <device_id> = Specific device ID number (set automatically when changed via system tray)
  #
  # Note: Device IDs are assigned by the operating system and may change if devices
  # are plugged/unplugged. Use system tray to select device - it will save the ID here.
  input_device: "default"

# =============================================================================
# CLIPBOARD BEHAVIOR
# =============================================================================
clipboard:
  # Automatically paste after transcription
  # true = paste immediately to active window
  # false = only copy to clipboard (paste manually with Ctrl+V)
  auto_paste: true
  
  # Preserve existing clipboard content when pasting
  # true = save current clipboard, paste transcription, then restore original clipboard
  # false = replace clipboard with transcription (default behavior)
  preserve_clipboard: true
  
  # Delay for key simulation operations (seconds)
  # Small delay ensures operations complete reliably
  key_simulation_delay: 0.05

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
logging:
  # Log level - how much detail to log
  # Options: "DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"
  # - DEBUG: Very detailed (for troubleshooting)
  # - INFO: General information (recommended)
  # - WARNING: Only warnings and errors
  # - ERROR: Only errors
  level: INFO
  
  # Log file settings
  file:
    enabled: true
    filename: app.log
  
  # Console output
  console:
    enabled: true
    level: WARNING  # Console log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) - WARNING shows important messages only


# =============================================================================
# AUDIO FEEDBACK SETTINGS
# =============================================================================
audio_feedback:
  # Enable/disable audio feedback sounds
  # true = play sounds when recording starts/stops
  # false = silent operation
  enabled: true
  
  # Sound file paths (relative to project root or absolute paths)
  # Use .wav files for best Windows compatibility
  start_sound: assets/sounds/record_start.wav
  stop_sound: assets/sounds/record_stop.wav
  cancel_sound: assets/sounds/record_cancel.wav

# =============================================================================
# SYSTEM TRAY SETTINGS
# =============================================================================
system_tray:
  # Enable/disable system tray icon
  # true = show icon in system tray with status and menu
  # false = run without system tray (console mode only)
  enabled: true

  # Tooltip text when hovering over tray icon
  tooltip: Whisper Key

# =============================================================================
# CONSOLE VISIBILITY SETTINGS
# =============================================================================
console:
  # Start with console hidden to system tray
  # Note: This setting is ignored in CLI mode
  start_hidden: false
